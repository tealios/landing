<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tealios</title>
  <meta name="description" content="We are Tealios. We made Errata.">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant:ital,wght@0,300..700;1,300..700&family=Manrope:wght@300;400;500;600&display=swap" rel="stylesheet">
  <style>
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

    :root {
      --glass-tint: rgba(255, 255, 255, 0.18);
      --glass-border: rgba(255, 255, 255, 0.45);
      --glass-shadow: rgba(0, 40, 80, 0.08);
      --text-primary: #1a1a2e;
      --text-secondary: #5a5a6e;
      --accent: #0f8a6c;
      --accent-light: #3eebc0;
    }

    body {
      font-family: 'Manrope', system-ui, sans-serif;
      background: #f0eeeb;
      color: var(--text-primary);
      height: 100vh;
      height: 100dvh;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      -webkit-font-smoothing: antialiased;
      perspective: 1200px;
    }

    ::selection {
      background: rgba(15, 138, 108, 0.2);
      color: var(--text-primary);
    }

    /* ── Pixel canvas background ── */
    #pixel-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
    }

    /* ── Snake panels ── */
    .snake-panel {
      position: fixed;
      width: 380px;
      height: 260px;
      z-index: 1;
      background: var(--glass-tint);
      backdrop-filter: blur(28px) saturate(1.3);
      -webkit-backdrop-filter: blur(28px) saturate(1.3);
      border: 1px solid var(--glass-border);
      border-radius: 28px;
      box-shadow:
        0 6px 40px var(--glass-shadow),
        inset 0 1px 0 rgba(255, 255, 255, 0.5);
      will-change: transform;
    }

    .snake-panel:nth-child(1) {
      top: -60px;
      left: 8vw;
      transform: rotate(-4deg);
      animation: snakeDrift1 20s ease-in-out infinite;
    }
    .snake-panel:nth-child(2) {
      top: 12vh;
      right: 6vw;
      transform: rotate(3deg);
      animation: snakeDrift2 24s ease-in-out infinite;
    }
    .snake-panel:nth-child(3) {
      top: 32vh;
      left: -2vw;
      transform: rotate(2deg);
      animation: snakeDrift3 22s ease-in-out infinite;
    }
    .snake-panel:nth-child(4) {
      bottom: 22vh;
      right: -3vw;
      transform: rotate(-3deg);
      animation: snakeDrift4 18s ease-in-out infinite;
    }
    .snake-panel:nth-child(5) {
      bottom: 4vh;
      left: 5vw;
      transform: rotate(4deg);
      animation: snakeDrift5 26s ease-in-out infinite;
    }
    .snake-panel:nth-child(6) {
      bottom: 2vh;
      right: 10vw;
      transform: rotate(-2deg);
      animation: snakeDrift6 21s ease-in-out infinite;
    }
    .snake-panel:nth-child(7) {
      bottom: 72vh;
      right: 72vw;
      transform: rotate(-2deg);
      animation: snakeDrift6 21s ease-in-out infinite;
    }

    .panel-genre {
      display: inline-block;
      font-size: 10px;
      font-weight: 600;
      letter-spacing: 0.08em;
      text-transform: uppercase;
      color: var(--accent);
      margin-bottom: 10px;
      opacity: 0.8;
    }

    .panel-prose {
      font-family: 'Cormorant', Georgia, serif;
      font-size: 15px;
      font-style: italic;
      line-height: 1.55;
      color: var(--text-secondary);
      margin: 0;
    }

    .snake-panel {
      padding: 24px 28px;
      display: flex;
      flex-direction: column;
      justify-content: center;
    }

    @keyframes snakeDrift1 {
      0%, 100% { transform: rotate(-4deg) translate3d(0, 0, 0); }
      33% { transform: rotate(-3deg) translate3d(10px, 8px, 0); }
      66% { transform: rotate(-5deg) translate3d(-6px, -5px, 0); }
    }
    @keyframes snakeDrift2 {
      0%, 100% { transform: rotate(3deg) translate3d(0, 0, 0); }
      33% { transform: rotate(4.5deg) translate3d(-8px, 6px, 0); }
      66% { transform: rotate(2deg) translate3d(7px, -8px, 0); }
    }
    @keyframes snakeDrift3 {
      0%, 100% { transform: rotate(2deg) translate3d(0, 0, 0); }
      33% { transform: rotate(0.5deg) translate3d(12px, -6px, 0); }
      66% { transform: rotate(3deg) translate3d(-5px, 10px, 0); }
    }
    @keyframes snakeDrift4 {
      0%, 100% { transform: rotate(-3deg) translate3d(0, 0, 0); }
      33% { transform: rotate(-1.5deg) translate3d(-10px, -8px, 0); }
      66% { transform: rotate(-4deg) translate3d(8px, 6px, 0); }
    }
    @keyframes snakeDrift5 {
      0%, 100% { transform: rotate(4deg) translate3d(0, 0, 0); }
      33% { transform: rotate(2.5deg) translate3d(6px, -10px, 0); }
      66% { transform: rotate(5deg) translate3d(-8px, 5px, 0); }
    }
    @keyframes snakeDrift6 {
      0%, 100% { transform: rotate(-2deg) translate3d(0, 0, 0); }
      33% { transform: rotate(-3.5deg) translate3d(-7px, 8px, 0); }
      66% { transform: rotate(-1deg) translate3d(10px, -6px, 0); }
    }

    /* ── Content ── */
    main {
      position: relative;
      z-index: 2;
      text-align: center;
      padding: 48px 56px;
      background: rgba(255, 255, 255, 0.22);
      backdrop-filter: blur(28px) saturate(1.3);
      -webkit-backdrop-filter: blur(28px) saturate(1.3);
      border: 1px solid rgba(255, 255, 255, 0.5);
      border-radius: 32px;
      box-shadow:
        0 8px 48px rgba(0, 40, 60, 0.07),
        inset 0 1px 0 rgba(255, 255, 255, 0.6);
      max-width: 520px;
    }

    .logo {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      font-weight: 600;
      font-size: 15px;
      letter-spacing: -0.01em;
      color: var(--text-primary);
      margin-bottom: 48px;
      opacity: 0;
      animation: fadeUp 0.8s ease-out 0.3s forwards;
    }

    .logo svg { color: var(--accent); }

    .errata-mark {
      margin: 0 auto 40px;
      display: block;
      opacity: 0;
      animation: fadeUp 0.8s ease-out 0.5s forwards;
    }

    h1 {
      font-family: 'Cormorant', Georgia, serif;
      font-size: clamp(2.2rem, 5vw, 3.8rem);
      font-weight: 400;
      line-height: 1.2;
      letter-spacing: -0.02em;
      margin-bottom: 12px;
      opacity: 0;
      animation: fadeUp 0.8s ease-out 0.7s forwards;
    }

    h1 em {
      font-style: italic;
      color: var(--accent);
    }

    p {
      color: var(--text-secondary);
      font-size: 15px;
      margin-bottom: 32px;
      opacity: 0;
      animation: fadeUp 0.8s ease-out 0.9s forwards;
    }

    a.repo {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      color: var(--text-secondary);
      font-size: 14px;
      font-weight: 500;
      text-decoration: none;
      transition: color 0.2s;
      opacity: 0;
      animation: fadeUp 0.8s ease-out 1.1s forwards;
    }

    a.repo:hover { color: var(--text-primary); }
    a.repo svg { display: block; }

    @keyframes fadeUp {
      from {
        opacity: 0;
        transform: translateY(12px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* ── Responsive ── */
    @media (max-width: 768px) {
      .snake-panel {
        width: 260px;
        height: 180px;
        border-radius: 22px;
      }
      main {
        padding: 36px 28px;
        max-width: 90vw;
      }
    }
  </style>
</head>
<body>
  <canvas id="pixel-canvas"></canvas>

  <div class="snake-panel">
    <span class="panel-genre">Sci-Fi</span>
    <p class="panel-prose">The last signal from Kepler-442b arrived on a Tuesday. It wasn't words exactly — more like a feeling pressed into radio waves. The linguists wept. The astronomers went silent. Only the poets understood.</p>
  </div>
  <div class="snake-panel">
    <span class="panel-genre">Literary Fiction</span>
    <p class="panel-prose">She kept his letters in a shoebox under the bed, not because she missed him, but because his handwriting looked like the kind of person she wished he had been.</p>
  </div>
  <div class="snake-panel">
    <span class="panel-genre">Fantasy</span>
    <p class="panel-prose">The sword had no name. Names were for blades that wanted to be remembered. This one simply wanted to be put down — but the war had other plans, and the dead kept waking.</p>
  </div>
  <div class="snake-panel">
    <span class="panel-genre">Romance</span>
    <p class="panel-prose">He handed her the umbrella without a word. Rain pooled between them on the platform. Three trains passed. Neither moved. Somewhere between the fourth and fifth, she learned his name.</p>
  </div>
  <div class="snake-panel">
    <span class="panel-genre">Thriller</span>
    <p class="panel-prose">The voicemail was only four seconds long. Heavy breathing, a car door, then nothing. Detective Hara played it forty-one times before she noticed the church bells in the background.</p>
  </div>
  <div class="snake-panel">
    <span class="panel-genre">Erotica</span>
    <p class="panel-prose">His mouth found the hollow of her throat, and she forgot every language she'd ever spoken. The sheets twisted. The candle guttered. Outside, the city hummed on, oblivious and indifferent.</p>
  </div>
  <div class="snake-panel">
    <span class="panel-genre">Horror</span>
    <p class="panel-prose">The house didn't creak. That was the problem. Every old house creaks, her mother had said. If it goes quiet, it's listening.</p>
  </div>

  <main>
    <div class="logo">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none">
        <rect x="1" y="1" width="9" height="9" rx="2" fill="currentColor" opacity="0.7"/>
        <rect x="14" y="1" width="9" height="9" rx="2" fill="currentColor" opacity="0.3"/>
        <rect x="1" y="14" width="9" height="9" rx="2" fill="currentColor" opacity="0.3"/>
        <rect x="14" y="14" width="9" height="9" rx="2" fill="currentColor"/>
      </svg>
      tealios
    </div>

    <svg class="errata-mark" width="48" height="48" viewBox="0 0 32 32" fill="none">
      <g transform="translate(-2.5, 0) scale(1.15)">
        <path d="M 0 -10.5 C 2.1 -6.8 2.1 -1.6 0 1 C -2.1 -1.6 -2.1 -6.8 0 -10.5 Z" transform="translate(16, 16) scale(1.5) rotate(0)" fill="#3eebc0"/>
        <path d="M 0 -10.5 C 2.1 -6.8 2.1 -1.6 0 1 C -2.1 -1.6 -2.1 -6.8 0 -10.5 Z" transform="translate(16, 16) scale(1.5) rotate(120)" fill="#3eebc0"/>
        <path d="M 0 -10.5 C 2.1 -6.8 2.1 -1.6 0 1 C -2.1 -1.6 -2.1 -6.8 0 -10.5 Z" transform="translate(16, 16) scale(1.5) rotate(240)" fill="#3eebc0"/>
        <path d="M 0 -7.35 C 1.47 -4.76 1.47 -1.12 0 0.7 C -1.47 -1.12 -1.47 -4.76 0 -7.35 Z" transform="translate(16, 16) scale(1.5) rotate(60)" fill="#3eebc0" opacity="0.45"/>
        <path d="M 0 -7.35 C 1.47 -4.76 1.47 -1.12 0 0.7 C -1.47 -1.12 -1.47 -4.76 0 -7.35 Z" transform="translate(16, 16) scale(1.5) rotate(180)" fill="#3eebc0" opacity="0.45"/>
        <path d="M 0 -7.35 C 1.47 -4.76 1.47 -1.12 0 0.7 C -1.47 -1.12 -1.47 -4.76 0 -7.35 Z" transform="translate(16, 16) scale(1.5) rotate(300)" fill="#3eebc0" opacity="0.45"/>
        <circle cx="16" cy="16" r="2.52" fill="#3eebc0"/>
      </g>
    </svg>

    <h1>We are Tealios.<br>We made <em>Errata</em>.</h1>
    <p>An open-source writing tool.</p>

    <a class="repo" href="https://github.com/tealios/errata" target="_blank" rel="noopener">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 0C5.37 0 0 5.37 0 12c0 5.31 3.435 9.795 8.205 11.385.6.105.825-.255.825-.57 0-.285-.015-1.23-.015-2.235-3.015.555-3.795-.735-4.035-1.41-.135-.345-.72-1.41-1.23-1.695-.42-.225-1.02-.78-.015-.795.945-.015 1.62.87 1.845 1.23 1.08 1.815 2.805 1.305 3.495.99.105-.78.42-1.305.765-1.605-2.67-.3-5.46-1.335-5.46-5.925 0-1.305.465-2.385 1.23-3.225-.12-.3-.54-1.53.12-3.18 0 0 1.005-.315 3.3 1.23.96-.27 1.98-.405 3-.405s2.04.135 3 .405c2.295-1.56 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.765.84 1.23 1.905 1.23 3.225 0 4.605-2.805 5.625-5.475 5.925.435.375.81 1.095.81 2.22 0 1.605-.015 2.895-.015 3.3 0 .315.225.69.825.57A12.02 12.02 0 0024 12c0-6.63-5.37-12-12-12z"/>
      </svg>
      github.com/tealios/errata
    </a>
  </main>

  <script>
    const canvas = document.getElementById('pixel-canvas');
    const ctx = canvas.getContext('2d');

    const palette = [
      [255, 182, 135],  // warm peach
      [135, 220, 200],  // teal
      [62, 235, 192],   // accent green
      [170, 150, 255],  // soft lavender
      [255, 155, 170],  // coral pink
      [120, 200, 255],  // sky blue
      [255, 215, 120],  // golden yellow
      [200, 235, 160],  // lime green
      [180, 170, 240],  // periwinkle
    ];

    let W, H, dpr;
    let time = 0;
    let mouseX = -1000, mouseY = -1000;
    const MOUSE_RADIUS = 200;
    let panelRects = [];

    document.addEventListener('mousemove', e => {
      mouseX = e.clientX;
      mouseY = e.clientY;
    });
    document.addEventListener('mouseleave', () => {
      mouseX = -1000;
      mouseY = -1000;
    });

    function updatePanelRects() {
      const panels = document.querySelectorAll('.snake-panel, main');
      panelRects = Array.from(panels).map(p => p.getBoundingClientRect());
    }

    const PANEL_FADE = 80; // soft fade distance in px

    function isInColorZone(px, py) {
      let best = 0;

      // Mouse proximity
      const dx = px - mouseX;
      const dy = py - mouseY;
      const mouseDist = Math.sqrt(dx * dx + dy * dy);
      if (mouseDist < MOUSE_RADIUS) {
        best = Math.max(best, 1 - mouseDist / MOUSE_RADIUS);
      }

      // Soft glow around glass panels
      for (let i = 0; i < panelRects.length; i++) {
        const r = panelRects[i];
        const cx = (r.left + r.right) / 2;
        const cy = (r.top + r.bottom) / 2;
        const hw = (r.right - r.left) / 2 + PANEL_FADE;
        const hh = (r.bottom - r.top) / 2 + PANEL_FADE;

        const distX = Math.max(0, Math.abs(px - cx) - (r.right - r.left) / 2);
        const distY = Math.max(0, Math.abs(py - cy) - (r.bottom - r.top) / 2);
        const dist = Math.sqrt(distX * distX + distY * distY);

        if (dist < PANEL_FADE) {
          best = Math.max(best, 1 - dist / PANEL_FADE);
        }
      }

      return best;
    }

    function lerp(a, b, t) {
      return a + (b - a) * t;
    }

    // Guilloche line definitions
    const lines = [];
    const LINE_COUNT = 40;

    function buildLines() {
      lines.length = 0;
      for (let i = 0; i < LINE_COUNT; i++) {
        lines.push({
          baseY: (H / (LINE_COUNT - 1)) * i,
          colorIdx: i % palette.length,
          freq1: 0.003 + Math.random() * 0.004,
          freq2: 0.006 + Math.random() * 0.008,
          freq3: 0.001 + Math.random() * 0.002,
          amp1: 15 + Math.random() * 25,
          amp2: 8 + Math.random() * 15,
          amp3: 20 + Math.random() * 30,
          phase1: Math.random() * Math.PI * 2,
          phase2: Math.random() * Math.PI * 2,
          phase3: Math.random() * Math.PI * 2,
          speed: 0.002 + Math.random() * 0.003,
        });
      }
    }

    function resize() {
      dpr = Math.min(window.devicePixelRatio || 1, 2);
      W = window.innerWidth;
      H = window.innerHeight;
      canvas.width = W * dpr;
      canvas.height = H * dpr;
      canvas.style.width = W + 'px';
      canvas.style.height = H + 'px';
      ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
      buildLines();
    }

    let frameCount = 0;
    const STEP = 4;
    const SAMPLE_EVERY = 8; // check color zone every N segments

    function getWaveY(l, x, t) {
      return l.baseY
        + Math.sin(x * l.freq1 + t + l.phase1) * l.amp1
        + Math.sin(x * l.freq2 + t * 1.3 + l.phase2) * l.amp2
        + Math.sin(x * l.freq3 + t * 0.7 + l.phase3) * l.amp3;
    }

    function draw() {
      time++;
      frameCount++;
      ctx.clearRect(0, 0, W, H);

      if (frameCount % 6 === 0) updatePanelRects();

      ctx.lineWidth = 2.5;

      for (let i = 0; i < lines.length; i++) {
        const l = lines[i];
        const t = time * l.speed;
        const c = palette[l.colorIdx];
        const gray = Math.round(0.299 * c[0] + 0.587 * c[1] + 0.114 * c[2]);

        // Pre-compute all points
        const points = [];
        for (let x = -10; x <= W + 10; x += STEP) {
          points.push({ x, y: getWaveY(l, x, t) });
        }

        // Draw in batched runs, sampling color zone periodically
        let runStart = 0;
        let currentColor = 0;

        // Get initial color
        const p0 = points[0];
        currentColor = isInColorZone(p0.x, p0.y);

        for (let j = 1; j < points.length; j++) {
          let newColor = currentColor;
          if (j % SAMPLE_EVERY === 0 || j === points.length - 1) {
            newColor = isInColorZone(points[j].x, points[j].y);
          }

          // If color changed or last point, flush the current run
          const colorChanged = Math.abs(newColor - currentColor) > 0.3;
          if (colorChanged || j === points.length - 1) {
            const endIdx = j;
            const r = Math.round(lerp(gray, c[0], currentColor));
            const g = Math.round(lerp(gray, c[1], currentColor));
            const b = Math.round(lerp(gray, c[2], currentColor));

            ctx.beginPath();
            ctx.moveTo(points[runStart].x, points[runStart].y);
            for (let k = runStart + 1; k <= endIdx; k++) {
              ctx.lineTo(points[k].x, points[k].y);
            }
            ctx.strokeStyle = `rgba(${r},${g},${b},0.45)`;
            ctx.stroke();

            runStart = j;
            currentColor = newColor;
          }
        }
      }

      requestAnimationFrame(draw);
    }

    window.addEventListener('resize', resize);
    resize();
    draw();
  </script>
</body>
</html>
